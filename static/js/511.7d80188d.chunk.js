"use strict";(self.webpackChunkskillminds_web=self.webpackChunkskillminds_web||[]).push([[511],{2511:(e,a,s)=>{s.r(a),s.d(a,{default:()=>r});var n=s(5043),t=s(3587);var l=s(579);const r=()=>{const[e,a]=(0,n.useState)(""),[s,r]=(0,n.useState)(""),{login:i,error:o,isLoading:d}=(()=>{const[e,a]=(0,n.useState)(null),[s,l]=(0,n.useState)(null),{dispatch:r}=(0,t.Z)();return{login:async(e,s)=>{l(!0),a(null);const n=await fetch("/api/admin/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:e,password:s})}),t=await n.json();n.ok||(l(!1),a(t.error)),n.ok&&(localStorage.setItem("admin",JSON.stringify(t)),r({type:"LOGIN",payload:t}),l(!1))},isLoading:s,error:e}})();return(0,l.jsxs)("form",{className:"login",onSubmit:async a=>{a.preventDefault(),await i(e,s)},children:[(0,l.jsx)("h3",{children:"Log in "}),(0,l.jsx)("label",{children:"Username:"}),(0,l.jsx)("input",{type:"text",name:"username",onChange:e=>a(e.target.value),value:e}),(0,l.jsx)("label",{children:"Password:"}),(0,l.jsx)("input",{type:"password",name:"password",onChange:e=>r(e.target.value),value:s}),o&&(0,l.jsx)("div",{className:"error",children:o}),(0,l.jsx)("button",{className:"tw-w-full",disabled:d,children:"Log in"})]})}}}]);
//# sourceMappingURL=511.7d80188d.chunk.js.map